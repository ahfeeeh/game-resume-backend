(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e9d44"],{"8ecd":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),i={class:"all-content"},a={key:1,class:"container py-4",style:{"margin-top":"50px"}},l={class:"row align-items-end"},s=Object(c["i"])("div",{class:"col"},null,-1),o=Object(c["i"])("div",{class:"col"},null,-1),b={class:"col"},d=["href"],r=Object(c["j"])("   "),u=["href"],j=Object(c["j"])("   "),O=["href"],h={class:"about"},p=Object(c["i"])("h1",null,"Steam Games Table",-1),m={class:"table-responsive"};function f(e,t,n,f,g,y){var v=Object(c["G"])("Loading"),k=Object(c["G"])("SteamGamesTable");return Object(c["y"])(),Object(c["h"])("div",i,[g.isLoading?(Object(c["y"])(),Object(c["f"])(v,{key:0})):Object(c["g"])("",!0),g.isLoading?Object(c["g"])("",!0):(Object(c["y"])(),Object(c["h"])("div",a,[Object(c["i"])("div",l,[s,o,Object(c["i"])("div",b,[Object(c["i"])("a",{type:"button",class:"btn btn-outline-primary",href:"".concat(g.env,"/csv?table=Steam")},"to CSV",8,d),r,Object(c["i"])("a",{type:"button",class:"btn btn-outline-secondary",href:"".concat(g.env,"/pdf?from=steam"),target:"_blank"},"to PDF",8,u),j,Object(c["i"])("a",{type:"button",class:"btn btn-outline-success",href:"".concat(g.env,"/xls?from=steam")},"to XLS",8,O)])]),Object(c["i"])("div",h,[p,Object(c["i"])("div",m,[Object(c["k"])(k)])])]))])}var g=Object(c["i"])("br",null,null,-1),y=Object(c["i"])("br",null,null,-1),v=Object(c["i"])("br",null,null,-1),k={class:"input-group mb-3"},C=Object(c["i"])("div",{class:"input-group-prepend"},[Object(c["i"])("span",{class:"input-group-text",id:"basic-addon1"},"Search")],-1),A={class:"table table-striped table-hover"},L=Object(c["i"])("thead",null,[Object(c["i"])("tr",null,[Object(c["i"])("th",null,"Id"),Object(c["i"])("th",null,"AppId"),Object(c["i"])("th",null,"Title"),Object(c["i"])("th",null,"Finished ?"),Object(c["i"])("th",null,"Actions")])],-1),G=["onUpdate:modelValue"],S={class:"btn-group btn-group-sm",role:"group"},F=["onClick"],M=Object(c["i"])("i",{class:"fas fa-play"},null,-1),_=Object(c["j"])(" Mark as Playing"),D=[M,_],w=Object(c["j"])("   "),I=["onClick"],x=Object(c["i"])("i",{class:"fas fa-check"},null,-1),T=Object(c["j"])(" Mark as Finished"),J=[x,T],P=Object(c["j"])("   "),Q=["disabled","onClick"],E=Object(c["i"])("i",{class:"fa fa-puzzle-piece"},null,-1),R=Object(c["j"])(" DLC"),V=[E,R],U=Object(c["j"])("   "),q=["href"],N=Object(c["i"])("i",{class:"fa fa-wrench","aria-hidden":"true"},null,-1),z=Object(c["j"])(" Install/Play Game"),X=[N,z],B=Object(c["j"])(" Mark Game as Finished "),H=Object(c["i"])("h2",null,"Are you sure you want to mark this game as finished?",-1),K=Object(c["j"])(" DLC "),W={class:"table table-hover"},Y=Object(c["i"])("thead",null,[Object(c["i"])("tr",null,[Object(c["i"])("th",{scope:"col"},"Id"),Object(c["i"])("th",{scope:"col"},"AppId"),Object(c["i"])("th",{scope:"col"},"Title"),Object(c["i"])("th",{scope:"col"},"Finished"),Object(c["i"])("th",{scope:"col"},"Actions")])],-1),Z={scope:"row"},$=["onUpdate:modelValue"],ee=["onClick"],te=Object(c["i"])("i",{class:"fas fa-check"},null,-1),ne=Object(c["j"])(" Mark as Finished "),ce=[te,ne];function ie(e,t,n,i,a,l){var s=this,o=Object(c["G"])("Modal");return Object(c["y"])(),Object(c["h"])(c["a"],null,[g,y,v,Object(c["i"])("div",k,[C,Object(c["S"])(Object(c["i"])("input",{type:"text",class:"form-control",placeholder:"Input Game Name","aria-label":"Search","aria-describedby":"basic-addon1","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.searchQuery=e})},null,512),[[c["O"],a.searchQuery]])]),Object(c["i"])("table",A,[L,Object(c["i"])("tbody",null,[(Object(c["y"])(!0),Object(c["h"])(c["a"],null,Object(c["E"])(l.resultQuery,(function(t,n){return Object(c["y"])(),Object(c["h"])("tr",{key:n},[Object(c["i"])("td",null,Object(c["J"])(t.id),1),Object(c["i"])("td",null,Object(c["J"])(t.app_id),1),Object(c["i"])("td",null,Object(c["J"])(t.title),1),Object(c["i"])("td",null,[Object(c["S"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":function(e){return t.finished=e},disabled:!0},null,8,G),[[c["N"],t.finished]])]),Object(c["i"])("td",null,[Object(c["i"])("div",S,[Object(c["i"])("button",{type:"button",class:"btn btn-danger btn-sm",onClick:function(n){return l.markAsPlaying(t.app_id||t.id,e.getSelectedGame)}},D,8,F),w,Object(c["i"])("button",{type:"button",class:"btn btn-success btn-sm",onClick:function(e){return i.toggleModalFinished(t.app_id||t.id)}},J,8,I),P,Object(c["i"])("button",{disabled:!t.has_dlc,type:"button",class:"btn btn-info btn-sm",style:{color:"white"},onClick:function(e){return i.toggleModalDLC(t.app_id,s)}},V,8,Q),U,Object(c["i"])("a",{class:"btn btn-secondary btn-sm",href:"steam://run/".concat(t.app_id)},X,8,q)])])])})),128))])]),Object(c["k"])(o,{onClose:i.toggleModalFinished,modalActive:i.modalActiveFinished},{"modal-header":Object(c["R"])((function(){return[B]})),"modal-content":Object(c["R"])((function(){return[H]})),"modal-footer":Object(c["R"])((function(){return[Object(c["i"])("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=function(t){return l.finishItem(e.getCurrentIdx,i.toggleModalFinished)})}," Mark as Finished ")]})),_:1},8,["onClose","modalActive"]),Object(c["k"])(o,{onClose:t[2]||(t[2]=function(e){return i.toggleModalDLC("",s)}),modalActive:i.modalActiveDLC},{"modal-header":Object(c["R"])((function(){return[K]})),"modal-content":Object(c["R"])((function(){return[Object(c["i"])("table",W,[Y,Object(c["i"])("tbody",null,[(Object(c["y"])(!0),Object(c["h"])(c["a"],null,Object(c["E"])(a.dlcs,(function(e){return Object(c["y"])(),Object(c["h"])("tr",{key:e.id},[Object(c["i"])("th",Z,Object(c["J"])(e.id),1),Object(c["i"])("td",null,Object(c["J"])(e.app_id),1),Object(c["i"])("td",null,Object(c["J"])(e.title),1),Object(c["i"])("td",null,[Object(c["S"])(Object(c["i"])("input",{type:"checkbox","onUpdate:modelValue":function(t){return e.finished=t},disabled:!0},null,8,$),[[c["N"],e.finished]])]),Object(c["i"])("td",null,[Object(c["i"])("button",{type:"button",class:"btn btn-success btn-sm",onClick:function(t){return i.markDlcAsFinished(e.id,e.app_id,!e.finished,s)}},ce,8,ee)])])})),128))])])]})),"modal-footer":Object(c["R"])((function(){return[]})),_:1},8,["modalActive"])],64)}var ae,le=n("5530"),se=n("8785"),oe=(n("4de4"),n("d3b7"),n("ac1f"),n("1276"),n("caad"),n("2532"),n("0180")),be=n("714b"),de=n("5502"),re=n("e852"),ue=n("bc3a"),je=n.n(ue),Oe={name:"SteamGamesTable",setup:function(){var e=Object(oe["b"])(),t=Object(de["c"])(),n=Object(c["D"])(!1),i=Object(c["D"])(!1),a=function(e){n.value=!n.value,n.value&&(console.log("are you sure Finished ? ",e),t.commit("SELECT_ITEM",e))},l=function(e,t){if(i.value=!i.value,i.value){console.log("show DLCs for ? ",e);var n=Object(re["gql"])(ae||(ae=Object(se["a"])(['\n          {\n            dlcs: getDLC(app_id: "','") {\n              id\n              app_id\n              title\n              finished\n            }\n          }\n        '])),e);Object(re["request"])("".concat("https://games-resume-backend.herokuapp.com","/graphql"),n).then((function(e){t.dlcs=e.dlcs}))}else t.dlcs=[]},s=function(t,n,c,i){console.log("Mark dlc as finished idx: ",t),console.log("id:",n),console.log("finished: ",c);var a={app_id:n,id:t,finished:c};je.a.post("".concat("https://games-resume-backend.herokuapp.com","/dlc_finished"),a).then((function(t){i.dlcs=t.data.dlcs,e.success("Success on Mark as Finished from Database")})).catch((function(t){console.error(t),e.error("Error on Save Changes on API")}))};return{toast:e,modalActiveFinished:n,modalActiveDLC:i,toggleModalFinished:a,toggleModalDLC:l,markDlcAsFinished:s,store:t}},data:function(){return{searchQuery:null,dlcs:[]}},computed:Object(le["a"])({resultQuery:function(){var e=this;return this.searchQuery?this.getGames.filter((function(t){return e.searchQuery.toLowerCase().split(" ").every((function(e){return t.title.toLowerCase().includes(e)}))})):this.getGames}},Object(de["b"])(["getGames","getSelectedGame","getCurrentIdx"])),created:function(){},mounted:function(){this.getItems()},methods:{getItems:function(){this.store.dispatch("getGames",{payload:{table:"steam"},toast:this.toast})},finishItem:function(e,t){this.store.dispatch("finishGame",{payload:{idx:e[0],table:"steam"},toast:this.toast}),t()},markAsPlaying:function(e,t){t.table="playing",t.idx=e,this.store.dispatch("markAsPlaying",{payload:t,toast:this.toast})}},components:{Modal:be["a"]}},he=n("6b0d"),pe=n.n(he);const me=pe()(Oe,[["render",ie]]);var fe=me,ge=n("3a5e"),ye={name:"SteamGames",components:{SteamGamesTable:fe,Loading:ge["a"]},mounted:function(){var e=this;setTimeout((function(){e.isLoading=!1}),2e3)},data:function(){return{env:"https://games-resume-backend.herokuapp.com",isLoading:!0}}};const ve=pe()(ye,[["render",f]]);t["default"]=ve}}]);
//# sourceMappingURL=chunk-2d0e9d44.bf0f2ce9.js.map